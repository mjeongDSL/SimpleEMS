# Language design and implementation overview

## Language design

Users write programs in SimpleEMS by typing out queries and requests. The queries then get information from a local data model that draws information from an external data source such as a databse. The requests ask for changes that are then interpreted to changes in the data model which then makes the appropriate changes to the external data source. This DSL aims to have neither data structures nor control structures. There are hints of OOP in the sense that users will be manipulating 'themselves' as occupants in 'room' objects in the intermediate representaton. Ideally, this langauge will also show hints of control flow by enabling users to request a room for a number of dates! The DSL only requires text inputs but the text inputs have to be in a recognizeable format for the parser. (A syntax!) The output will also be text-based however we can do some ASCII formatting to make results easier to read. Programs can go wrong if the intermediate representation/data model cannot reconiliate with the external data source. This could happen due to one-off errors and edge cases that were missed in testing (hopefully not) or due to corruption of data in tranfer (though unlikely). The program should be able to make a text output detailing at least the general idea of where the error occured ("your query was wrong syntactically right here <>" or "something went wrong with the database... try again in a few seconds or post a bug!"). I left a week of time for error-handling so I hope this project will be able to handle most errors. The environment in which they query in will be a Scala console environment. Other DSLs are generally graphical, e.g. the HMC EMS system. However, the system is clunky and hard to use. For users that prefer working from the console, this application fills that niche. Also, one language goal is that the API is flexible enough to allow someone to write a graphical interface if they so desired. 

## Language implementation

The API is an internal language to Scala. I will implement the DSL as an internal DSL because I think an internal DSL is sufficient to make queries. This decision may change once the implmentation starts...
I chose to implment this in Scala because that is the language I am most familiar with. Also, it makes it easier to tie the IR with the front-end if they are in the same language. So this is a choice for the implmentor more-so than the user. In addition, the syntactic sugars that Scala allows are also more flexible than the other GP languages that I am familiar with. 
I have not made significant syntax decisions, most of my decisison have been made towards the API so far. 
The system will consist of an IR, what's implmented so far, a front-end "console query style language" that will be interpreted to the IR data model and then a db back-end that will capture persistent data objects. (Since EMS should have persistent data)
